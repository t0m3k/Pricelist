<% include ../partials/header %>

<h1>All users:</h1>

<div class="row">
    <% users.forEach(user => { %> 
        <div class="col-xl-3 col-lg-4 col-md-6">
            <div class="card mt-4">
                <div class="card-body">
                    <h4 class="card-title<%= function(){
                        if(user.username==currentUser.username){
                            return " text-danger";
                        }
                    }() %>"><%= user.nickname %></h4>
                    <p class="card-text"><%= user.username %></p>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item"><input class="form-check-input" type="checkbox" disabled <%= user.isAdmin ? 'checked':'' %>>Admin</li>
                        <li class="list-group-item"><input class="form-check-input" type="checkbox" disabled <%= user.emailConf ? 'checked':'' %>>Confirmed</li>
                        <li class="list-group-item"><input class="form-check-input" type="checkbox" disabled <%= user.read ? 'checked':'' %>>Read</li>
                        <li class="list-group-item"><input class="form-check-input" type="checkbox" disabled <%= user.write ? 'checked':'' %>>Write</li>
                    </ul>
                </div>
                <div class="card-body">
                    <a href="users/<%= user._id %>" class="card-link">Edit</a>
                    <form class="inline" id="delete<%= user._id %>" action="users/<%= user._id %>?_method=DELETE" method="POST">
                        <a href="javascript:;" onclick="$('#delete<%= user._id %>').submit();" class="card-link text-danger">Delete</a>
                    </form>
                </div>
            </div>
        </div>
    <% }); %>
</div>

<% include ../partials/footer %>